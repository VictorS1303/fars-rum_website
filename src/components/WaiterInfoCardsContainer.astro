---
import WaiterInfoSliderControlButtons from "./WaiterInfoSliderControlButtons.astro"
const waiterInfoCardHeading = ['Navn', 'Kunstnernavn', 'Rolle', 'Om']
---

<div class="container waiter-cards-info-container">
    <div class="card waiter-info-card current" id="waiter_info-card">
        <div class="waiter-info-card-inner-container">
            <div class="waiter-info-card-front" id="waiter_info_card_front">
                <h3>Navn</h3>
            </div>
            <div class="waiter-info-card-back" id="waiter_info_card_back">
                <p>Jumelo</p>
            </div>
        </div>
    </div>
    <div class="card waiter-info-card current" id="waiter_info-card">
        <div class="waiter-info-card-inner-container">
            <div class="waiter-info-card-front" id="waiter_info_card_front">
                <h3>Hey</h3>
            </div>
            <div class="waiter-info-card-back" id="waiter_info_card_back">
                <p>Jumelo</p>
            </div>
        </div>
    </div>
    <div class="card waiter-info-card current" id="waiter_info-card">
        <div class="waiter-info-card-inner-container">
            <div class="waiter-info-card-front" id="waiter_info_card_front">
                <h3>Navn</h3>
            </div>
            <div class="waiter-info-card-back" id="waiter_info_card_back">
                <p>Jumelo</p>
            </div>
        </div>
    </div>
</div>

<div class="buttons">
    <button id="prev"><i class="fas fa-arrow-left"></i></button>
    <button id="next"><i class="fas fa-arrow-right"></i></button>
</div>

<style>
    .container.waiter-cards-info-container
    {
        position: fixed;
        top: 40%;
        left: 20%;
        transform: translate(-50%, -50%);
    }

    .buttons button#next,
    .buttons button#prev
    {
        position: absolute;
        top: 65%;
    }

    .buttons button#next
    {
        right: 15px;
    }

    .buttons button#prev
    {
        left: 15px;
    }




    .card.waiter-info-card
    {
        height: 350px;
        width: 200px;
        position: absolute;
        opacity: 0;
        cursor: pointer;
        transition: opacity .3s ease-in;
    }

    .card.waiter-info-card.current
    {
        z-index: 10000;
        opacity: 1;
        transition: opacity .3s ease-in;
    }

    .waiter-info-card-inner-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        position: relative;
        height: 100%;
        width: 100%;
        transition: transform 0.5s ease-in;
        transform-style: preserve-3d;
    }

    .card.waiter-info-card:hover .waiter-info-card-inner-container {
        transform: rotateY(180deg);
    }

    .card.waiter-info-card .waiter-info-card-front {
        background-color: var(--card-background-color);
        color: var(--heading-color);
    }

    .card.waiter-info-card .waiter-info-card-back {
        color: var(--secondary-text-color);
        font-size: var(--paragraph-mobile-font-size);
        font-weight: var(--paragraph-font-weight);
        transform: rotateY(180deg);
        padding: 20px;
    }

    .card.waiter-info-card .waiter-info-card-front,
    .card.waiter-info-card .waiter-info-card-back {
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        background-color: var(--card-background-color);
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    .card.waiter-info-card .waiter-info-card-front
    {
        background-color: #222;
    }

    @media screen and (min-width: 768px)
    {
        .container.waiter-cards-info-container
        {
            top: 50%;
            left: 32.5%;
            transform: translateX(-50%);
        }

        .card.waiter-info-card
        {
            height: 200px;
            width: 350px;
        }
        .buttons
        {
            padding: 0 400px;
        }
    }
</style>

<script>
    const cards = document.querySelectorAll('.card');
const next = document.querySelector('#next');
const prev = document.querySelector('#prev');

const nextSlide = () => {
  // Get current class
  const current = document.querySelector('.current');
  // Remove current class
  current.classList.remove('current');
  // Check for next slide
  if (current.nextElementSibling) {
    // Add current to next sibling
    current.nextElementSibling.classList.add('current');
  } else {
    // Add current to start
    cards[0].classList.add('current');
  }
};

const prevSlide = () => {
  // Get current class
  const current = document.querySelector('.current');
  // Remove current class
  current.classList.remove('current');
  // Check for prev slide
  if (current.previousElementSibling) {
    // Add current to prev sibling
    current.previousElementSibling.classList.add('current');
  } else {
    // Add current to last
    cards[cards.length - 1].classList.add('current');
  }
};

prev.addEventListener('click', prevSlide)
next.addEventListener('click', nextSlide)

</script>